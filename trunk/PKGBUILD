# $Id$
# Maintainer: SÃ©bastien Luttringer <seblu@aur.archlinux.org>

pkgname=python2-sphinx
pkgver=1.1.2
pkgrel=1
pkgdesc='Python 2 documentation generator'
arch=('any')
url='http://sphinx.pocoo.org/'
license=('GPL')
depends=('python2-distribute' 'python2-jinja' 'python2-pygments' 'docutils')
optdepends=('texlive-latexextra: for generation of PDF documentation')
conflicts=('python-sphinx')
source=("http://pypi.python.org/packages/source/S/Sphinx/Sphinx-$pkgver.tar.gz")
md5sums=('b65a5d5d6172f3dcfefb4770ec63926e')
 
build() {
  cd Sphinx-$pkgver
  # fix python sheebang
  find . -type f -exec \
    sed -i '1s,^#! \?/usr/bin/\(env \|\)python$,#!/usr/bin/python2,' {} \;
  python setup.py build
}
 
package() {
  cd Sphinx-$pkgver
  python setup.py install --root="$pkgdir" --optimize=1
}

# vim:set ts=2 sw=2 ft=sh et:
